<mat-accordion class="wizard">
  <div class="expansion-panel-holder">
    <div class="mask"></div>
    <mat-expansion-panel hideToggle [expanded]="(step$ | async) === 1" (opened)="setStep(1)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Personal Information
        </mat-panel-title>
        <mat-panel-description>
          Enter First Name and Age
          <mat-icon>account_circle</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <form #firstStep="ngForm">
        <mat-form-field>
          <input matInput type="text" placeholder="First name" [ngModel]="firstName$ | async" name="firstName" required>
        </mat-form-field>

        <mat-form-field>
          <input matInput type="number" min="1" [ngModel]="age$ | async" placeholder="Age" name="age" required>
        </mat-form-field>
      </form>
      <mat-action-row>
        <button mat-button color="primary" (click)="nextStep()"
          [disabled]="!(secondStepValidation$ | async)">Next</button>
      </mat-action-row>
    </mat-expansion-panel>
  </div>
  <div class="expansion-panel-holder">
    <div class="mask"></div>
    <mat-expansion-panel hideToggle [expanded]="(step$ | async) === 2" (opened)="setStep(2)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Destination
        </mat-panel-title>
        <mat-panel-description>
          Select the country name
          <mat-icon>map</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <form #secondStep="ngForm">
        <mat-form-field>
          <mat-label>Country</mat-label>
          <mat-select required name="country" [ngModel]="country$ | async">
            <mat-option [value]="1">Bulgaria</mat-option>
            <mat-option [value]="2">France</mat-option>
            <mat-option [value]="3">United States</mat-option>
            <mat-option [value]="4">United Kingdom</mat-option>
          </mat-select>
        </mat-form-field>
      </form>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()"
          [disabled]="!(thirdStepValidation$ | async)">Next</button>
      </mat-action-row>
    </mat-expansion-panel>
  </div>
  <div class="expansion-panel-holder">
    <div class="mask"></div>
    <mat-expansion-panel hideToggle [expanded]="(step$ | async) === 3" (opened)="setStep(3)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Day of the trip
        </mat-panel-title>
        <mat-panel-description>
          Inform the date you wish to travel
          <mat-icon>date_range</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <form #thirdStep="ngForm">
        <mat-form-field>
          <input matInput [matDatepicker]="picker1" placeholder="Date" [ngModel]="date$ | async" name="date" required>
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
      </form>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()" [disabled]="!thirdStep.valid">End</button>
      </mat-action-row>
    </mat-expansion-panel>
  </div>
</mat-accordion>